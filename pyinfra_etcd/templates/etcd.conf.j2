{% macro comma_list(items) -%}
    {%- for item in items -%}
{{ item }}{% if not loop.last %},{% endif %}
    {%- endfor -%}
{%- endmacro -%}

# Generated by pyinfra-etcd

# Node
#

ETCD_NAME={{ host.name }}
ETCD_DATA_DIR={{ host.data.etcd_data_dir }}

ETCD_INITIAL_ADVERTISE_PEER_URLS={{ comma_list(advertise_peer_urls) }}
ETCD_LISTEN_PEER_URLS={{ comma_list(listen_peer_urls) }}

ETCD_ADVERTISE_CLIENT_URLS={{ comma_list(advertise_client_urls) }}
ETCD_LISTEN_CLIENT_URLS={{ comma_list(listen_client_urls) }}


# Clustering
#

ETCD_INITIAL_CLUSTER={{ comma_list(cluster_node_urls) }}
ETCD_INITIAL_CLUSTER_STATE={{ host.data.etcd_initial_cluster_state }}
ETCD_INITIAL_CLUSTER_TOKEN={{ host.data.etcd_initial_cluster_token }}
